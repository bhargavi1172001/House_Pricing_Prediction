# -*- coding: utf-8 -*-
"""House_price_predictor.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1-v1g9Ura1hNuvr9T8i1R02GoPXXeGJ6f
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.model_selection import train_test_split
from sklearn.linear_model import LinearRegression
from sklearn.metrics import mean_squared_error, r2_score

from google.colab import files
uploaded = files.upload()

housing_data = pd.read_csv('Housing.csv')
print(housing_data.head())

missing_values = housing_data.isnull().sum()
print(missing_values)

categorical_columns = ['mainroad','guestroom','basement','hotwaterheating','airconditioning','prefarea']
for column in categorical_columns:
  housing_data[column] = housing_data[column].map({'yes':1,'no':0})

housing_data['furnishingstatus'] = housing_data['furnishingstatus'].map({'furnished' : 2, 'semi-furnished' : 1, 'unfurnished': 0})

print(housing_data.head())

plt.figure(figsize=(15,10))

plt.subplot(2,2,1)
sns.scatterplot(x='area',y='price',data=housing_data)
plt.xlabel('Area')
plt.ylabel('Price')
plt.title('Area vs Price')

plt.subplot(2,2,2)
sns.scatterplot(x='bedrooms',y='price',data=housing_data)
plt.xlabel('Bedrooms')
plt.ylabel('Price')
plt.title('Bedrooms vs Price')

plt.subplot(2,2,3)
sns.scatterplot(x='mainroad',y='price',data=housing_data)
plt.xlabel('Mainroad')
plt.ylabel('Price')
plt.title('Mainroad vs Price')

X = housing_data.drop('price',axis = 1) #dropping because price is dependent variable
y = housing_data['price'] #making another column for price for predicting the price

X_train, X_test, y_train, y_test = train_test_split(X,y,test_size=0.3,random_state=42)

model = LinearRegression()
model.fit(X_train,y_train) # Training the model

y_pred = model.predict(X_test) #Testing the model

mse = mean_squared_error(y_test,y_pred)
r2 = r2_score(y_test,y_pred)

print('Mean Squared Error:',mse)
print('R^2:',r2)

new_house = pd.DataFrame({
    'area' : [3039],
    'bedrooms' : [3],
    'bathrooms' : [3],
    'stories' : [4],
    'mainroad' : [1],
    'guestroom' : [1],
    'basement' : [0],
    'hotwaterheating' : [0],
    'airconditioning' : [1],
    'parking' : [1],
    'prefarea' : [0],
    'furnishingstatus' : [2]
})

#make prediction

predicted_price = model.predict(new_house)
print('Predicted Price:',predicted_price[0])